{"ast":null,"code":"import _regeneratorRuntime from\"/Users/melissadonegan/ga/owls/p-two/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/melissadonegan/ga/owls/p-two/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/melissadonegan/ga/owls/p-two/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/melissadonegan/ga/owls/p-two/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/melissadonegan/ga/owls/p-two/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/melissadonegan/ga/owls/p-two/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/melissadonegan/ga/owls/p-two/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/melissadonegan/ga/owls/p-two/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import ProductContainer from'../Product/ProductContainer';import Widget from'../Widget/Widget';import axios from'axios';import'./Shop.css';var Shop=/*#__PURE__*/function(_Component){_inherits(Shop,_Component);function Shop(props){var _this;_classCallCheck(this,Shop);_this=_possibleConstructorReturn(this,_getPrototypeOf(Shop).call(this,props));_this.fetchData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var clothes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://5dced59675f9360014c2642c.mockapi.io/\".concat(_this.props.match.params.clothing_name));case 2:clothes=_context.sent;_this.setState({products:_toConsumableArray(clothes.data)});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_this.setState(function(state){return{review:[].concat(_toConsumableArray(state.review),[state.reviewText])};});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.onChange=function(e){_this.setState({reviewText:e.target.value});};_this.state={products:[],location:{},reviewText:'',review:[]};return _this;}_createClass(Shop,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;navigator.geolocation.getCurrentPosition(function(position){_this2.setState({location:{lat:position.coords.latitude,long:position.coords.longitude}});});this.fetchData();}},{key:\"render\",value:function render(){var review=this.state.review&&this.state.review;return React.createElement(React.Fragment,null,React.createElement(ProductContainer,{product:this.state.products}),React.createElement(Widget,null),this.state.review.map(function(listItem){return React.createElement(\"p\",null,listItem);}));}}]);return Shop;}(Component);export default Shop;","map":{"version":3,"sources":["/Users/melissadonegan/ga/owls/p-two/src/components/Shop/Shop.jsx"],"names":["React","Component","ProductContainer","Widget","axios","Shop","props","fetchData","get","match","params","clothing_name","clothes","setState","products","data","onSubmit","e","preventDefault","state","review","reviewText","onChange","target","value","location","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","long","longitude","map","listItem"],"mappings":"m8BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,6BAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,YAAP,C,GAEMC,CAAAA,I,8DACF,cAAYC,KAAZ,CAAmB,sCACf,sEAAMA,KAAN,GADe,MAgBnBC,SAhBmB,sEAgBP,qKACcH,CAAAA,KAAK,CAACI,GAAN,uDAAyD,MAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,aAAjF,EADd,QACFC,OADE,eAGR,MAAKC,QAAL,CAAc,CACVC,QAAQ,oBAAMF,OAAO,CAACG,IAAd,CADE,CAAd,EAHQ,sDAhBO,SAwBnBC,QAxBmB,2FAwBR,kBAAOC,CAAP,sHACPA,CAAC,CAACC,cAAF,GACI,MAAKL,QAAL,CAAc,SAAAM,KAAK,QAAK,CACpBC,MAAM,8BAAMD,KAAK,CAACC,MAAZ,GAAoBD,KAAK,CAACE,UAA1B,EADc,CAAL,EAAnB,EAFG,wDAxBQ,sEA+BnBC,QA/BmB,CA+BR,SAACL,CAAD,CAAO,CACd,MAAKJ,QAAL,CAAc,CACVQ,UAAU,CAAGJ,CAAC,CAACM,MAAF,CAASC,KADZ,CAAd,EAGH,CAnCkB,CAEf,MAAKL,KAAL,CAAa,CACTL,QAAQ,CAAE,EADD,CAETW,QAAQ,CAAE,EAFD,CAGTJ,UAAU,CAAE,EAHH,CAITD,MAAM,CAAE,EAJC,CAAb,CAFe,aAQlB,C,8EACmB,iBAChBM,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,SAACC,QAAD,CAAc,CACnD,MAAI,CAAChB,QAAL,CAAc,CAAEY,QAAQ,CAAE,CAAEK,GAAG,CAAED,QAAQ,CAACE,MAAT,CAAgBC,QAAvB,CAAiCC,IAAI,CAAEJ,QAAQ,CAACE,MAAT,CAAgBG,SAAvD,CAAZ,CAAd,EACH,CAFD,EAGA,KAAK3B,SAAL,GACH,C,uCAsBQ,CACL,GAAIa,CAAAA,MAAM,CAAG,KAAKD,KAAL,CAAWC,MAAX,EAAqB,KAAKD,KAAL,CAAWC,MAA7C,CACA,MACI,yCACI,oBAAC,gBAAD,EACA,OAAO,CAAE,KAAKD,KAAL,CAAWL,QADpB,EADJ,CAII,oBAAC,MAAD,MAJJ,CAKK,KAAKK,KAAL,CAAWC,MAAX,CAAkBe,GAAlB,CAAsB,SAACC,QAAD,CAAc,CACjC,MACI,8BAAIA,QAAJ,CADJ,CAGH,CAJA,CALL,CADJ,CAcH,C,kBArDcnC,S,EAuDnB,cAAeI,CAAAA,IAAf","sourcesContent":["import React, { Component } from 'react'\nimport ProductContainer from '../Product/ProductContainer'\nimport Widget from '../Widget/Widget'\nimport axios from 'axios'\nimport './Shop.css'\n\nclass Shop extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            products: [],\n            location: {},\n            reviewText: '',\n            review: []\n        }\n    }\n    componentDidMount() {\n        navigator.geolocation.getCurrentPosition((position) => {\n            this.setState({ location: { lat: position.coords.latitude, long: position.coords.longitude } })\n        })\n        this.fetchData()\n    }\n\n    fetchData = async () => {\n        const clothes = await axios.get(`https://5dced59675f9360014c2642c.mockapi.io/${this.props.match.params.clothing_name}`)\n\n        this.setState({\n            products: [...clothes.data]\n        })\n\n    }\n    onSubmit = async (e) => {\n        e.preventDefault();\n            this.setState(state => ({\n                review: [...state.review, state.reviewText]\n            }))\n               \n    }\n    onChange = (e) => {\n        this.setState({\n            reviewText : e.target.value\n        })\n    }\n    render() {\n        let review = this.state.review && this.state.review\n        return (\n            <>\n                <ProductContainer \n                product={this.state.products}\n                />\n                <Widget />\n                {this.state.review.map((listItem) => {\n                    return (\n                        <p>{listItem}</p>\n                    )\n                })}\n            </>\n        )\n\n    }\n}\nexport default Shop\n"]},"metadata":{},"sourceType":"module"}